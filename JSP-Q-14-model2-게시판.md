# 1. 바꿔 말하면 이 실습 게시판에서 db에 업로드 된 내용은 남아있어도 다음 날 다시 켜면 다운로드가 안된다는 뜻인가?

네, **정확히 그렇게 됩니다.** 😟

데이터베이스(DB)에 파일 정보가 남아 있더라도, 실제 파일이 저장된 위치가 **임시 폴더**였기 때문에 다음 날 서버를 다시 켜면 다운로드가 안 됩니다.

---

## 📌 왜 다운로드가 안 되는가?

이 현상을 이해하는 데 중요한 두 가지 요소가 있습니다:

### 1. DB에는 기록이 남아있다 (파일의 '이름'만)

DB에는 다음과 같은 정보가 영구적으로 남아 있습니다.

* **`ofile`**: 원본 파일명 (예: `여행계획.pdf`)
* **`sfile`**: 서버 저장 파일명 (예: `20251124_XYZ123.pdf`)
* **`idx`**: 게시글 번호

이 정보 덕분에 게시글 목록에서는 파일명이 계속 보입니다.

### 2. 실제 파일은 사라진다 (파일의 '본체')

하지만 실제 파일(`.pdf` 본체)은 IDE가 서버 실행을 위해 만든 **임시 폴더** (`.../tmp0/wtpwebapps/MustHaveJSP/Uploads`)에 저장되었습니다.

* IDE를 끄거나 서버를 **재시작/클린**하는 과정에서 이 **`tmp0` 임시 폴더가 초기화**되거나 삭제됩니다.
* DB에 저장된 `sfile`을 가지고 다운로드를 시도하면, `DownController`는 **파일이 있어야 할 경로에서 파일 본체를 찾을 수 없기 때문에** (FileNotFound) 다운로드가 실패합니다.

---

## ✅ 실습 후 조치 사항

이 문제를 해결하고 실습 결과물을 보존하려면, 이전 답변에서 안내해 드린 대로 **반드시 서버 외부에 영구적인 업로드 경로를 설정**해야 합니다.

예: `C:\ProjectFiles\Uploads`

이 경로를 사용하도록 코드를 수정해야 다음 날에도 DB에 기록된 파일 정보를 이용해 실제 파일을 다운로드할 수 있습니다.

또한 모든 앱의 전체 기능을 이용하려면 [Gemini 앱 활동](https://myactivity.google.com/product/gemini)을 사용 설정하세요.
